
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bibliotheksstatistik &#8212; Data Storytelling | Projekt</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bevölkerungsstatistik" href="1_tidy_pop_data.html" />
    <link rel="prev" title="Einführung" href="0_intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data Storytelling | Projekt</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="0_intro.html">
   Einführung
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  Daten
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Bibliotheksstatistik
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_tidy_pop_data.html">
   Bevölkerungsstatistik
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_get_other_data.html">
   Weitere Daten
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_summary_data.html">
   Zusammenfassen der Daten
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/1_tidy_dbs_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F1_tidy_dbs_data.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/1_tidy_dbs_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-aufbereiten">
   Daten aufbereiten
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#daten-importieren">
     Daten importieren
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nur-die-relevanten-daten-im-dataframe-speichern">
     Nur die relevanten Daten im Dataframe speichern
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tausender-und-dezimaltrennzeichen-ersetzen">
     Tausender- und Dezimaltrennzeichen ersetzen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spalten-andern">
     Spalten ändern
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#werte-in-floats-umwandeln">
     Werte in Floats umwandeln
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#index-als-spalte">
     Index als Spalte
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bereinigte-daten">
   Bereinigte Daten
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="bibliotheksstatistik">
<h1>Bibliotheksstatistik<a class="headerlink" href="#bibliotheksstatistik" title="Permalink to this headline">¶</a></h1>
<p>Die <a class="reference external" href="https://www.bibliotheksstatistik.de/">Deutsche Bibliotheksstatistik</a> kann frei abgerufen werden.</p>
<p>Für die Auswertung habe ich den Zeitraum von <strong>2010 bis 2020</strong> gewählt.</p>
<p>Folgende Variablen habe ich ausgewählt:</p>
<ul class="simple">
<li><p>Ausgaben Erwerbungen</p></li>
<li><p>Bestand (virtuell)</p></li>
<li><p>Bestand (insgesamt)</p></li>
<li><p>Entleihende (ab 60 J.)</p></li>
<li><p>Entleihende (bis 12 J.)</p></li>
<li><p>Entleihende (insgesamt)</p></li>
<li><p>Entleihen (virtueller Bestand)</p></li>
<li><p>Entleihen (gesamt)</p></li>
<li><p>Laufende Ausgaben</p></li>
</ul>
<p>Das Ergebnis habe ich als <strong>csv-Datei</strong> heruntergeladen.</p>
<div class="section" id="daten-aufbereiten">
<h2>Daten aufbereiten<a class="headerlink" href="#daten-aufbereiten" title="Permalink to this headline">¶</a></h2>
<div class="section" id="daten-importieren">
<h3>Daten importieren<a class="headerlink" href="#daten-importieren" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import modules</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./data/1_dbs_data.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ISO-8859-1&#39;</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                  NR               Name  \
  Unnamed: 0_level_1 Unnamed: 1_level_1   
0                  1            Aach GB   
1                  2          Aachen GB   
2                  3          Aachen GB   
3                  4          Aachen GB   
4                  5          Aachen GB   

                                          Bibliothek             DBS-ID  \
                                  Unnamed: 2_level_1 Unnamed: 3_level_1   
0            Kath. Öffentliche Bücherei St. Nikolaus              QN043   
1            Kath. Öffentliche Bibliothek St. Konrad              PY065   
2        Kath. Öffentliche Bibliothek St. Laurentius              QU719   
3           Kath. Öffentliche Bibliothek St. Severin              NH551   
4  Bücherinsel Vaalser Straße der Pfarrgemeinde S...              QN262   

  Entleiher                           ... Ausg. Erwerbung                \
       2010 2011 2012 2013 2014 2015  ...            2012   2013   2014   
0       NaN  NaN  NaN  NaN  NaN  NaN  ...             NaN    NaN    NaN   
1       301  290  285  257  243  247  ...           3.427  3.063  2.326   
2       380  350  300  300  325    N  ...           3.480  4.479  3.574   
3       267  249  278  180  233  241  ...           1.810  3.129  2.165   
4       390  394  423  401  485  390  ...           5.940  4.795  5.783   

                                                     Unnamed: 103_level_0  
    2015   2016   2017    2018       2019       2020 Unnamed: 103_level_1  
0    NaN    NaN    NaN     NaN        NaN        NaN                  NaN  
1  1.794  1.831  3.651   4.975   4.095,00   3.045,00                  NaN  
2  1.914  3.645  7.775  10.272  12.828,00  11.464,00                  NaN  
3  3.347  2.045  3.394   5.494   6.498,00   6.091,00                  NaN  
4  4.864  3.483  6.541  17.885   6.685,00   7.751,00                  NaN  

[5 rows x 104 columns]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="nur-die-relevanten-daten-im-dataframe-speichern">
<h3>Nur die relevanten Daten im Dataframe speichern<a class="headerlink" href="#nur-die-relevanten-daten-im-dataframe-speichern" title="Permalink to this headline">¶</a></h3>
<p>Im Dataframe sind nun alle Daten aus den verschiedenen öffentlichen Bibliotheken in Deutschland gesammelt. Ich brauche jedoch nur die Summe, also die Daten für ganz Deutschland. Diese befinden sich in einer Zeile namens <em>Summe</em>. Deshalb übernehme ich nur diese.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sum_row</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[(</span><span class="s1">&#39;NR&#39;</span><span class="p">,</span><span class="s1">&#39;Unnamed: 0_level_1&#39;</span><span class="p">)]</span> <span class="o">==</span> <span class="s1">&#39;Summe&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="tausender-und-dezimaltrennzeichen-ersetzen">
<h3>Tausender- und Dezimaltrennzeichen ersetzen<a class="headerlink" href="#tausender-und-dezimaltrennzeichen-ersetzen" title="Permalink to this headline">¶</a></h3>
<p>Die Zahlen haben Punkte als Tausendertrennzeichen. Diese müssen entfernt werden. Dafür wandle ich sie in Strings um, damit ich <code class="docutils literal notranslate"><span class="pre">str.replace()</span></code> anwenden kann. Als Dezimaltrennzeichen ersetze ich das Komma durch einen Punkt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">library_df</span> <span class="o">=</span> <span class="n">sum_row</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">library_df</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="n">library_df</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">library_df</span><span class="p">[</span><span class="n">label</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">library_df</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">library_df</span><span class="p">[</span><span class="n">label</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">library_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>NR</th>
      <th>Name</th>
      <th>Bibliothek</th>
      <th>DBS-ID</th>
      <th colspan="6" halign="left">Entleiher</th>
      <th>...</th>
      <th colspan="9" halign="left">Ausg. Erwerbung</th>
      <th>Unnamed: 103_level_0</th>
    </tr>
    <tr>
      <th></th>
      <th>Unnamed: 0_level_1</th>
      <th>Unnamed: 1_level_1</th>
      <th>Unnamed: 2_level_1</th>
      <th>Unnamed: 3_level_1</th>
      <th>2010</th>
      <th>2011</th>
      <th>2012</th>
      <th>2013</th>
      <th>2014</th>
      <th>2015</th>
      <th>...</th>
      <th>2012</th>
      <th>2013</th>
      <th>2014</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
      <th>2020</th>
      <th>Unnamed: 103_level_1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8547</th>
      <td>Summe</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>7844530</td>
      <td>7725936</td>
      <td>7604293</td>
      <td>7479921</td>
      <td>7355708</td>
      <td>7249936</td>
      <td>...</td>
      <td>100690622</td>
      <td>104213606</td>
      <td>104353361</td>
      <td>104934760</td>
      <td>108944525</td>
      <td>109927695</td>
      <td>111316147</td>
      <td>114191003.07</td>
      <td>111839663.17</td>
      <td>&lt;NA&gt;</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 104 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="spalten-andern">
<h3>Spalten ändern<a class="headerlink" href="#spalten-andern" title="Permalink to this headline">¶</a></h3>
<p>Die Spaltennamen sind immer in eine Variable wie beispielsweise <em>Ausgaben Erwerbung</em> und dann in die Jahre eingeteilt. Ich möchte jedoch, dass jedes Jahr eine Zeile ist und jede Variable eine Spalte. So ist es besser lesbar. Dafür drehe</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">library_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">library_df</span><span class="p">)</span>
<span class="n">library_df</span> <span class="o">=</span> <span class="n">library_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;variable_0&quot;</span><span class="p">:</span> <span class="s2">&quot;Auspraegung&quot;</span><span class="p">,</span> <span class="s1">&#39;variable_1&#39;</span><span class="p">:</span> <span class="s1">&#39;Jahr&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Wert&#39;</span><span class="p">})</span>
<span class="n">library_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Auspraegung</th>
      <th>Jahr</th>
      <th>Wert</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NR</td>
      <td>Unnamed: 0_level_1</td>
      <td>Summe</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Name</td>
      <td>Unnamed: 1_level_1</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Bibliothek</td>
      <td>Unnamed: 2_level_1</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>3</th>
      <td>DBS-ID</td>
      <td>Unnamed: 3_level_1</td>
      <td>&lt;NA&gt;</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Entleiher</td>
      <td>2010</td>
      <td>7844530</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>99</th>
      <td>Ausg. Erwerbung</td>
      <td>2017</td>
      <td>109927695</td>
    </tr>
    <tr>
      <th>100</th>
      <td>Ausg. Erwerbung</td>
      <td>2018</td>
      <td>111316147</td>
    </tr>
    <tr>
      <th>101</th>
      <td>Ausg. Erwerbung</td>
      <td>2019</td>
      <td>114191003.07</td>
    </tr>
    <tr>
      <th>102</th>
      <td>Ausg. Erwerbung</td>
      <td>2020</td>
      <td>111839663.17</td>
    </tr>
    <tr>
      <th>103</th>
      <td>Unnamed: 103_level_0</td>
      <td>Unnamed: 103_level_1</td>
      <td>&lt;NA&gt;</td>
    </tr>
  </tbody>
</table>
<p>104 rows × 3 columns</p>
</div></div></div>
</div>
<p>Einige Zeilen beinhalten irrelevante Daten.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">library_df</span> <span class="o">=</span> <span class="n">library_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">103</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Nun drehe ich das Dataframe so, dass das Jahr den Index darstellt und die Variablen die Spalten.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">library_df</span> <span class="o">=</span> <span class="n">library_df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;Jahr&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Auspraegung&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;Wert&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">library_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Auspraegung Ausg. Erwerbung Best. virt.Best. Bestand insges Entl. ab 60 J.  \
Jahr                                                                         
2010               96842615           457360      123027730         737336   
2011               99526558           591069      122796523         760140   
2012              100690622           829951      122025276         805601   
2013              104213606          1265499      121235283         819270   
2014              104353361          1622216      119858476         846045   
2015              104934760          1134853      117511823         868571   
2016              108944525          1491330      116080149         919600   
2017              109927695          1305260      113808636         932875   
2018              111316147          1780716      112176481         970320   
2019           114191003.07          2977275      110813254         999957   
2020           111839663.17          4440515      108085305         944831   

Auspraegung Entl. bis 12 J. Entl. virt.Best. Entleih. insges. Entleiher  \
Jahr                                                                      
2010                2076475           961683        375793896   7844530   
2011                2081832          1443091        378719659   7725936   
2012                2034793          3418398        375565974   7604293   
2013                2015921          7060821        373419034   7479921   
2014                2003788         11436854        362542582   7355708   
2015                1973670         16314414        361763984   7249936   
2016                2034986         19813365        355303531   7431335   
2017                2028492         24350279        344544584   7306049   
2018                2063797         28979729        338358540   7264051   
2019                2108134         33410061        338357207   7309666   
2020                1706033         41432441        261073366   6399536   

Auspraegung  Lfd. Ausgaben  
Jahr                        
2010             822217216  
2011             845950958  
2012             858229280  
2013             874839980  
2014             902104963  
2015             921825080  
2016             948461369  
2017             946273426  
2018             971207532  
2019         1006269342.67  
2020         1014798951.21  
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="werte-in-floats-umwandeln">
<h3>Werte in Floats umwandeln<a class="headerlink" href="#werte-in-floats-umwandeln" title="Permalink to this headline">¶</a></h3>
<p>Damit mit den Werten später gerechnet werden kann, müssen sie noch in Floats umgewandelt werden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">library_df</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="n">library_df</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">library_df</span><span class="p">[</span><span class="n">label</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="index-als-spalte">
<h3>Index als Spalte<a class="headerlink" href="#index-als-spalte" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">library_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="bereinigte-daten">
<h2>Bereinigte Daten<a class="headerlink" href="#bereinigte-daten" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">library_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Auspraegung</th>
      <th>Jahr</th>
      <th>Ausg. Erwerbung</th>
      <th>Best. virt.Best.</th>
      <th>Bestand insges</th>
      <th>Entl. ab 60 J.</th>
      <th>Entl. bis 12 J.</th>
      <th>Entl. virt.Best.</th>
      <th>Entleih. insges.</th>
      <th>Entleiher</th>
      <th>Lfd. Ausgaben</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2010</td>
      <td>9.684262e+07</td>
      <td>457360.0</td>
      <td>123027730.0</td>
      <td>737336.0</td>
      <td>2076475.0</td>
      <td>961683.0</td>
      <td>375793896.0</td>
      <td>7844530.0</td>
      <td>8.222172e+08</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2011</td>
      <td>9.952656e+07</td>
      <td>591069.0</td>
      <td>122796523.0</td>
      <td>760140.0</td>
      <td>2081832.0</td>
      <td>1443091.0</td>
      <td>378719659.0</td>
      <td>7725936.0</td>
      <td>8.459510e+08</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2012</td>
      <td>1.006906e+08</td>
      <td>829951.0</td>
      <td>122025276.0</td>
      <td>805601.0</td>
      <td>2034793.0</td>
      <td>3418398.0</td>
      <td>375565974.0</td>
      <td>7604293.0</td>
      <td>8.582293e+08</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2013</td>
      <td>1.042136e+08</td>
      <td>1265499.0</td>
      <td>121235283.0</td>
      <td>819270.0</td>
      <td>2015921.0</td>
      <td>7060821.0</td>
      <td>373419034.0</td>
      <td>7479921.0</td>
      <td>8.748400e+08</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2014</td>
      <td>1.043534e+08</td>
      <td>1622216.0</td>
      <td>119858476.0</td>
      <td>846045.0</td>
      <td>2003788.0</td>
      <td>11436854.0</td>
      <td>362542582.0</td>
      <td>7355708.0</td>
      <td>9.021050e+08</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2015</td>
      <td>1.049348e+08</td>
      <td>1134853.0</td>
      <td>117511823.0</td>
      <td>868571.0</td>
      <td>1973670.0</td>
      <td>16314414.0</td>
      <td>361763984.0</td>
      <td>7249936.0</td>
      <td>9.218251e+08</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2016</td>
      <td>1.089445e+08</td>
      <td>1491330.0</td>
      <td>116080149.0</td>
      <td>919600.0</td>
      <td>2034986.0</td>
      <td>19813365.0</td>
      <td>355303531.0</td>
      <td>7431335.0</td>
      <td>9.484614e+08</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2017</td>
      <td>1.099277e+08</td>
      <td>1305260.0</td>
      <td>113808636.0</td>
      <td>932875.0</td>
      <td>2028492.0</td>
      <td>24350279.0</td>
      <td>344544584.0</td>
      <td>7306049.0</td>
      <td>9.462734e+08</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2018</td>
      <td>1.113161e+08</td>
      <td>1780716.0</td>
      <td>112176481.0</td>
      <td>970320.0</td>
      <td>2063797.0</td>
      <td>28979729.0</td>
      <td>338358540.0</td>
      <td>7264051.0</td>
      <td>9.712075e+08</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2019</td>
      <td>1.141910e+08</td>
      <td>2977275.0</td>
      <td>110813254.0</td>
      <td>999957.0</td>
      <td>2108134.0</td>
      <td>33410061.0</td>
      <td>338357207.0</td>
      <td>7309666.0</td>
      <td>1.006269e+09</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2020</td>
      <td>1.118397e+08</td>
      <td>4440515.0</td>
      <td>108085305.0</td>
      <td>944831.0</td>
      <td>1706033.0</td>
      <td>41432441.0</td>
      <td>261073366.0</td>
      <td>6399536.0</td>
      <td>1.014799e+09</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">library_df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Auspraegung
Jahr                 object
Ausg. Erwerbung     float64
Best. virt.Best.    float64
Bestand insges      float64
Entl. ab 60 J.      float64
Entl. bis 12 J.     float64
Entl. virt.Best.    float64
Entleih. insges.    float64
Entleiher           float64
Lfd. Ausgaben       float64
dtype: object
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="0_intro.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Einführung</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="1_tidy_pop_data.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Bevölkerungsstatistik</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Verena Papsdorf<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>